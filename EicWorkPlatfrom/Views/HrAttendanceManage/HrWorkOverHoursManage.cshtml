<div class="row" ng-controller="workOverHoursManageCtrl">
   
    <div class="col-md-3">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h6 class="panel-title"><i class="glyphicon glyphicon-home"></i>部门信息</h6>
            </div>
            <div class="panel-body" style="max-height:515px;overflow:auto">
                <ul data-yl-tree cg-busy="{promise:promise}"
                    data-tree-dataset="ztree.configDataNodes"
                    data-start-load="ztree.startLoad"
                    ng-model="ztree.treeNode"
                    data-binding-nodevm="ztree.bindNodeToVm()"
                    id="{{ztree.treeId}}" class="ztree"></ul>
            </div>

        </div>
    </div>

     
     <div class="col-md-9">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h6 class="panel-title"><i class="fa fa-hand-peace-o">加班管理</i></h6>
            </div>

            <div class="panel-body">
                <div bs-tabs bs-active-pane="vmManager.activeTab"cg-busy="promise:searchPromise">
                    <div bs-pane data-title="登记加班单" data-name="initTab">
                       <div class="col-md-12">
                            <div class="bs-callout bs-callout-success">                                                              
                                    <div class="row">
                                        <div class="col-md-12">
                                            <form role="form" name="formWorkover" novalidate class="form-horizontal" >

                                                <div class="form-group">
                                                    <label for="workoverType" class="col-md-2 control-label">加班类型</label>
                                                    <div class="col-md-4">
                                                        <div class="input-group">
                                                            <input name="workoverType" class="form-control" ng-model="vm.WorkoverType" required />
                                                            <div class="error-messages" ng-messages="formWorkover.workoverType.$error" ng-show="operate.showValidation">
                                                                <small ng-message="required">加班类型不能为空</small>
                                                            </div>
                                                            <span class="input-group-btn">
                                                                <button type="button" class="btn btn-success" ng-model="vm.WorkoverType"
                                                                        data-html="1" data-multiple="0" data-placeholder="选择加班类型" data-animation="am-flip-x"
                                                                        data-bs-options="worktype.name as worktype.text for worktype in vmManager.workoverTypes" data-bs-select></button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                        <label for="workClassType" class="col-md-2 control-label">班别</label>
                                                        <div class="col-md-4">
                                                            <div class="input-group">
                                                                <input name="workClassType" class="form-control" ng-model="vm.WorkClassType" required />
                                                                <div class="error-messages" ng-messages="formWorkover.workClassType.$error" ng-show="operate.showValidation">
                                                                    <small ng-message="required">班别不能为空</small>
                                                                </div>
                                                                <span class="input-group-btn">
                                                                    <button type="button" class="btn btn-success" ng-model="vm.WorkClassType"
                                                                            data-html="1" data-multiple="0" data-placeholder="选择班别" data-animation="am-flip-x"
                                                                            data-bs-options="classtype.id as classtype.text for classtype in vmManager.classTypes" data-bs-select></button>
                                                                </span>
                                                            </div>
                                                        </div>                       
                                                    </div>

                                                <div class="form-group">
                                                    <label for="workDate" class="col-md-2 control-label">日期</label>
                                                    <div class="col-md-4">
                                                        <input type="date" name="workDate" class="form-control" ng-model="vm.WorkDate" placeholder="加班日期" format-date required />
                                                        <div class="error-messages" ng-messages="fromWorkover.workDate.$error" ng-show="operate.showValidation">
                                                            <small ng-message="required">日期不能为空</small>
                                                        </div>
                                                    </div>
                                                    <label for="department" class="col-md-2 control-label">部门</label>
                                                    <div class="col-md-4">
                                                       
                                                            <input type="text" name="workDate" class="form-control" ng-model="vm.DepartmentText" placeholder="部门" readonly required />
                                                            <div class="error-messages" ng-messages="fromWorkover.department.$error" ng-show="operate.showValidation">
                                                                <small ng-message="required">部门不能为空</small>
                                                            </div>
                                                            
                                                       
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label for="workOverHour" class="col-md-2 control-label">加班时数</label>
                                                    <div class="col-md-4">
                                                        <div class="input-group">
                                                            <input type="number" name="workOverHour" class="form-control" ng-model="vm.WorkOverHours" placeholder="加班时数"  required />
                                                            <div class="error-messages" ng-messages="fromWorkover.workOverHour.$error" ng-show="operate.showValidation">
                                                                <small ng-message="required">加班时数不能为空</small>
                                                            </div>
                                                            <span class="input-group-btn">
                                                                <button type="button"class="btn btn-success" ng-model="vm.WorkOverHours"
                                                                        data-html="1" data-multiple="0"data-placeholder="选择时数"data-animation="am-flip-x"
                                                                        data-bs-options="overHours.id as overHours.text for overHours in vmManager.workOverHourss" data-bs-select>
                                                                </button>
                                                            </span>
                                                        </div>                                                    
                                                    </div>                                                
                                                </div>
                                               </form>
                                        </div>
                                        <div class="col-md-2">
                                            <button type="button" ng-class="vmManager.isSelectAll===false?'btn btn-md btn-success':'btn btn-md btn-primary'"
                                                    ng-model="vmManager.isSelectAll" ng-click="vmManager.selectAll()" bs-checkbox>
                                                <i ng-class="vmManager.isSelectAll===false?'fa fa-toggle-off':'fa fa-toggle-on'"></i>
                                                <span ng-show="vmManager.isSelectAll===false">全选</span>
                                                <span ng-show="vmManager.isSelectAll">全不选</span>
                                            </button>
                                        </div>                                  
                                    </div>
                                    <div class="h-split"></div>
                                    <ul class="nav nav-pills">
                                        <li ng-repeat="item in vmManager.dataSets">
                                            <div style="width:100px;">
                                                <input type="checkbox" ng-model="item.isSelect" ng-click="operate.addWorkerToList(item)" />
                                                {{item.WorkerId}}
                                                <br />
                                                <span ng-class="item.selectedCls">
                                                    <i class="fa fa-user"></i>
                                                    {{item.WorkerName}}
                                                    <br />
                                                    <i class="fa fa-adjust"></i>                                             
                                                        {{item.ClassType}}
                                                    </span>
                                                
                                            </div>
                                        </li>
                                    </ul>  
                                <div class="table-responsive">
                                    <table class="table table-striped table-hover" style="table-layout:fixed;">
                                        <colgroup>
                                            <col width="80" />
                                            <col width="70" />
                                            <col width="100" />
                                            <col width="60" />
                                            <col width="60" />
                                            <col width="60" />
                                            <col width="60" />
                                        </colgroup>
                                        <thead>
                                            <tr class="success">
                                                <th>加班类型</th>
                                                <th>部门</th>
                                                <th>日期</th>
                                                <th>班别</th>
                                                <th>工号</th>
                                                <th>姓名</th>
                                                <th>加班时数</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="item in vmManager.selectedWorkers track by $index">
                                                <td>{{item.WorkoverType}}</td>
                                                <td>{{item.DepartmentText}}</td>
                                                <td>{{item.WorkDate}}</td>
                                                <td>{{item.WorkClassType}}</td>
                                                <td>{{item.WorkerId}}</td>
                                                <td>{{item.WorkerName}}</td>
                                                <td>{{item.WorkOverHours}}</td>                                     
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div bs-pane data-title="加班单汇总"data-name="editTab">
                        <h1>加班单汇总</h1>
                    </div>
                </div>
  
            </div>
        </div>  
     </div>
   
</div>