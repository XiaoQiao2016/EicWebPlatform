<div class="panel panel-primary" ng-controller="arChangeWorkerIdCtrl">
    <div class="panel-heading">
        <h6 class="panel-title">变更工号管理</h6>
    </div>
    <div class="panel-body">
        <div class="row" cg-busy="{promise:promise}">
            <div class="col-md-8">
                <form class="form-inline" novalidate>
                    <div class="input-group">
                        <div class="input-group-addon">
                            <label>作业工号</label>
                        </div>
                        <input class="form-control" type="text" ng-model="vmManager.workerId" ng-keypress="vmManager.getWorker($event)" placeholder="输入工号按下回车键查询" />
                        <div class="input-group-addon">
                            <i class="fa fa-search"></i>
                        </div>
                    </div>
                </form>
                <div class="h-split"></div>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered">
                        <colgroup>
                            <col width="100" />
                        </colgroup>
                        <colgroup>
                            <col width="80" />
                        </colgroup>
                        <colgroup>
                            <col width="130" />
                        </colgroup>
                        <colgroup>
                            <col width="80" />
                        </colgroup>
                        <colgroup>
                            <col width="130" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <td rowspan="3" cg-busy="{promise:searchPromise}">
                                    <img src="{{vmManager.workerInfo.PersonImageUrl}}" />
                                </td>
                                <td>身份证号：</td>
                                <td colspan="3" class="text-info">{{vmManager.workerInfo.IdentityID}}</td>
                            </tr>
                            <tr>
                                <td>工号：</td>
                                <td class="text-info">{{ vmManager.workerInfo.WorkerId}}</td>
                                <td>姓名：</td>
                                <td class="text-info">{{vmManager.workerInfo.Name}}</td>
                            </tr>
                            <tr>
                                <td>部门：</td>
                                <td class="text-info">{{vmManager.workerInfo.Department}}</td>
                                <td>岗位：</td>
                                <td class="text-info">{{vmManager.workerInfo.Post}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="h-split"></div>

                <form role="form" name="formChangeWorkerId" novalidate class="form-horizontal" onkeypress="if (event.keyCode === 13) return false;">
                    <div class="form-group">
                        <div class="col-md-12">
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <label for="workerIdNumType">工号类别</label>
                                </div>
                                <div class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-model="vm.WorkerIdNumType"
                                            data-html="1" data-multiple="0" data-animation="am-flip-x" data-placeholder="选择工号数字类别"
                                            ng-change="vmManager.selectWorkerIdCategory()"
                                            data-bs-options="workerIdNumType.name as workerIdNumType.text for workerIdNumType in vmManager.workerIdCategories" data-bs-select>
                                        选择工号数字类别 <span class="caret"></span>
                                    </button>
                                    <input name="workerIdNumType" class="form-control" ng-model="vm.WorkerIdNumType" ng-show="false"/>
                                </div>
                                <div class="input-group-addon">
                                    <i class="fa fa-ellipsis-v"></i>
                                </div>
                                <div class="input-group-btn">
                                    <button type="button" class="btn btn-success" ng-model="vm.WorkerIdType"
                                            data-html="1" data-multiple="0" data-animation="am-flip-x" data-placeholder="选择工号类别"
                                            data-bs-options="workerIdType.name as workerIdType.text for workerIdType in vmManager.workerIdTypes" data-bs-select>
                                        选择工号类别 <span class="caret"></span>
                                    </button>
                                    <input name="workerIdType" class="form-control" ng-model="vm.WorkerIdType" ng-show="false"/>
                                </div>
                                <input name="workerIdT" class="form-control" readonly ng-model="vm.NewWorkerId" placeholder="作业工号" required />
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="alert alert-info">
                        <div class="row">
                            <div class="col-md-2">
                            </div>
                            <div class="col-md-10">
                                <button class="btn btn-primary" ng-click="operate.changeWorkerId(formChangeWorkerId.$valid)"><i class="fa fa-save"></i>变更工号</button>
                                <button class="btn btn-default" ng-click="operate.refresh()"><i class="fa fa-undo"></i>取消</button>
                                <span yl-operatemsg-board></span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>


    </div>
</div>