<div class="panel panel-default" ng-controller="inspectionFormManageOfIqcCtrl">
    <div class="panel-heading">
        <h6 class="panel-title">
            IQC检验表单管理
        </h6>
    </div>
    <div class="panel-body">
        <div class="well">
            <div class="row">
                <div class="col-md-10">
                    <form class="form-inline" novalidate>
                        <div class="form-group">
                            <div yl-date-range date-from="vmManager.dateFrom" date-to="vmManager.dateTo"></div>
                        </div>
                        <div class="form-group">
                            <label>单据状态:</label>
                            <button type="button" class="btn btn-success" ng-model="vmManager.selectedFormStatus"
                                    data-html="1" data-multiple="0" data-animation="am-flip-x" data-placeholder="请选择"
                                    data-bs-options="formStatus.value as formStatus.label for formStatus in vmManager.formStatuses track by $index" data-bs-select>
                                <span class="caret"></span>
                            </button>
                        </div>
                        <span class="btn btn-primary" ng-click="vmManager.getDevelopModules()"><i class="fa fa-search"></i>查询</span>
                        <span yl-operatemsg-board></span>
                    </form>
                </div>
            </div>
        </div>
        <div class="well" cg-busy="{promise:searchPromise}">
            <div class="row" >
                <div class="table-responsive"  id="editWindow"  style="min-height:500px;">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr class="info">
                                <th>单号</th>
                                <th>料号</th>
                                <th>品名</th>
                                <th>规格</th>
                                <th>供应商</th>
                                <th>进货日期</th>
                                <th>图号</th>
                                <th>进货数量</th>
                                <th>检测方式</th>
                                <th>检测结果</th>
                                <th>检测状态</th>
                                <th>检测项目列表</th>
                                <th>检测日期</th>
                                <th>操作(<i class="fa fa-pencil-square-o"></i>)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in vmManager.editDatas track by $index">
                        <td>{{item.OrderId}}</td>
                        <td>{{item.MaterialId}}</td>
                        <td>{{item.MaterialName}}</td>
                        <td>{{item.MaterialSpec}}</td>
                        <td>{{item.MaterialSupplier}}</td>
                        <td>{{item.MaterialInDate}}</td>
                        <td>{{item.MaterialDrawId}}</td>
                        <td>{{item.MaterialCount}}</td>
                        <td>{{item.InspectionMode}}</td>
                        <td>{{item.InspctionResult}}</td>
                        <td>{{item.InspectionStatus}}</td>
                        <td>{{item.InspectionItems}}</td>
                        <td>{{item.FinishDate}}</td>
                        <td>
                                    <button type="button" class="btn btn-primary btn-xs" ng-click="vmManager.showItemWindow()">明细</button>
                                    <button type="button" class="btn btn-warning btn-xs" ng-click="vmManager.showCheckModal()">审核</button>
                                </td>
                    </tr>
                          
                        </tbody>
                    </table>
                </div>
            </div>
            <div pageslide ps-open="vmManager.isShowEditWindow" ps-side="right" ps-size="{{vmManager.editWindowWidth}}" ps-speed="0.25" ps-container='editWindow'>
                <div style="padding:10px;">
                    <form role="form" name="inspectionFormManage" novalidate onkeypress="if (event.keyCode === 13) return false;" class="form-horizontal">
                        <fieldset>
                            <div class="form-group">
                                <label class="col-md-1 control-label">单号:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="orderId" ng-model="vm.OrderId" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.orderId.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">单号不能为空</small>
                                    </div>
                                </div>
                                <label class="col-md-1 control-label">料号:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialId" ng-model="vm.MaterialId" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialId.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">料号不能为空</small>
                                    </div>
                                </div>
                                <label class="col-md-1 control-label">检测结果:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="inspectionItems" ng-model="vm.InspctionResult" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.inspectionItems.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">检测结果不能为空</small>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-1 control-label">品名:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialName" ng-model="vm.MaterialName" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialName.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">品名不能为空</small>
                                    </div>
                                </div>
                                <label class="col-md-1 control-label">供应商:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialSupplier" ng-model="vm.MaterialSupplier" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialSupplier.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">供应商不能为空</small>
                                    </div>
                                </div>
                                
                                <label class="col-md-1 control-label">进货日期:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialInDate" ng-model="vm.MaterialInDate" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialInDate.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">进货日期不能为空</small>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-1 control-label">图号:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialDrawId" ng-model="vm.MaterialDrawId" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialDrawId.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">图号不能为空</small>
                                    </div>
                                </div>
                                <label class="col-md-1 control-label">进货数量:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialCount" ng-model="vm.MaterialCount" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialCount.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">进货数量不能为空</small>
                                    </div>
                                </div>
                                <label class="col-md-1 control-label">检测方式:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="inspectionMode" ng-model="vm.InspectionMode" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.inspectionMode.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">检测方式不能为空</small>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-1 control-label">规格:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialSpec" ng-model="vm.MaterialSpec" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialSpec.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">规格不能为空</small>
                                    </div>
                                </div>
                                
                                <label class="col-md-1 control-label">检测项目:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="materialCount" ng-model="vm.InspectionItems" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.materialCount.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">检测项目不能为空</small>
                                    </div>
                                </div>
                                <label class="col-md-1 control-label">检测日期:</label>
                                <div class="col-md-3">
                                    <input type="text" class="form-control" name="finishDate" ng-model="vm.FinishDate" required />
                                    <div class="error-messages" ng-messages="inspectionFormManage.finishDate.$error" ng-show="operate.showValidation">
                                        <small ng-message="required">检测日期不能为空</small>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <div class="alert alert-info">
                            <div class="row">
                                <div class="col-md-5 col-md-offset-5">
                                    <button class="btn btn-primary" ng-click="operate.save(inspectionFormManage.$valid)"><i class="fa fa-save"></i>保存</button>
                                    <button class="btn btn-default" ng-click="operate.refresh()"><i class="fa fa-undo"></i>取消</button>
                                    <span yl-operatemsg-board></span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="panel-footer">
    </div>
</div>